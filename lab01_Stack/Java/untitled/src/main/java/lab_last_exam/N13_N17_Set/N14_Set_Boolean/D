Реализация через характеристический вектор

Время: O(1)

Память: М(p), где P – множество значений, причем если числа могут быть отрицательными, то понадобятся
модификации

Примечания:
применимо только при маленьком Р